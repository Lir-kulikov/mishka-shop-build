/*! UTF-8

© kovrigin
Все права разрешены
красивый дизайн должен иметь красивый код®

https://github.com/htmlpluscss/

*/
(()=>{"use strict";window.MI=window.MI||{},MI.resizeTimeout=null,MI.windowWidthOLd=window.innerWidth,window.addEventListener("resize",()=>{window.requestAnimationFrame(()=>{MI.resizeTimeout||(MI.resizeTimeout=setTimeout(()=>{MI.resizeTimeout=null,MI.windowWidthOLd!==window.innerWidth&&(MI.windowWidthOLd=window.innerWidth,PubSub.publish("windowWidthResize"))},100))})}),window.addEventListener("scroll",()=>window.requestAnimationFrame(()=>PubSub.publish("windowScroll"))),window.addEventListener("DOMContentLoaded",()=>PubSub.publish("DOMContentLoaded")),window.addEventListener("load",()=>PubSub.publish("pageLoad")),MI.sepNumber=(e=>(e=(e=e.toString()).replace(/\s+/g,"")).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")),MI.strToNumber=(e=>parseInt(e.replace(/\s+/g,""),10)),MI.cssAnimation=(e=>{var t,n,i=document.createElement("cssanimation");switch(e){case"animation":t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};break;case"transition":t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"}}for(n in t)if(void 0!==i.style[n])return t[n]}),MI.isInViewport=(e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.bottom<=window.innerHeight})})(),(e=>{"use strict";e.length&&Array.from(e,e=>e.querySelector(".slide__btn").addEventListener("click",()=>{e.classList.toggle("is-open"),setTimeout(()=>{if(e.getBoundingClientRect().top-MI.headerHeight<0&&e.classList.contains("is-open")){const t=e.getBoundingClientRect().top-MI.headerHeight-parseInt(window.getComputedStyle(e).marginTop)+window.pageYOffset;window.scrollTo({top:t,behavior:"smooth"})}},100)}))})(document.querySelectorAll(".slide")),(e=>{"use strict";e.length&&Array.from(e,e=>{var t=null,n=e.querySelectorAll(".accordion__btn"),i=e.querySelectorAll(".accordion__item");Array.from(n,(e,n)=>{e.addEventListener("click",()=>{e.closest(".accordion__item").classList.toggle("is-open"),n===t?t=null:i.length>1&&(t=n,Array.from(i,(e,n)=>{t!==n&&e.classList.remove("is-open")}),setTimeout(()=>{MI.isInViewport(i[t])||i[t].scrollIntoView({behavior:"smooth"})},100))})})})})(document.querySelectorAll(".accordion")),(e=>{"use strict";if(!e.length)return;let t=new MutationObserver(e=>{const t=e[0].target,n=t.getBoundingClientRect();if(console.log(n.left>window.innerWidth-n.right),t.open){const e=t.querySelector(".ask__inner");n.left>window.innerWidth-n.right?(e.style.left="auto",e.style.right=0,e.style.width=n.left+"px"):(e.style.right="auto",e.style.left=0,e.style.width=window.innerWidth-n.right+"px")}});Array.from(e,e=>{t.observe(e,{attributes:!0})}),document.body.addEventListener("click",t=>{Array.from(e,e=>{t.target.closest(".ask")!==e&&(e.open=!1)})})})(document.querySelectorAll(".ask")),(e=>{if(!e)return;const t=e.querySelectorAll(".quantity"),n=e.querySelector(".cart__total"),i=e.querySelector(".cart__total-items"),o=()=>{let t=0;const o=e.querySelectorAll(".cart__item");Array.from(o,e=>{const n=parseInt(e.querySelector(".quantity__count").value),i=parseInt(e.querySelector(".quantity__price").value);isNaN(n)&&(n=1,e.querySelector(".quantity__count").value=1),e.querySelector(".cart__item-price--total").textContent=MI.sepNumber(n*i),t+=n*i}),n.textContent=MI.sepNumber(t),i.textContent=o.length,0===t&&e.classList.add("is-empty")};t.length&&(Array.from(t,e=>{let t=null;const n=e.querySelector(".quantity__btn--up"),i=e.querySelector(".quantity__btn--down"),s=e.querySelector(".quantity__count");n.addEventListener("click",()=>{t=parseInt(s.value)+1,s.value=t,o()}),i.addEventListener("click",()=>{(t=parseInt(s.value)-1)<1&&(t=1),s.value=t,o()}),s.addEventListener("blur",()=>o()),s.addEventListener("focus",()=>setTimeout(()=>s.setSelectionRange(0,9),100)),s.addEventListener("keyup",()=>{s.value=s.value.replace(/[\D]/g,""),o()})}),Array.from(e.querySelectorAll(".cart__item-remove"),e=>{const t=e.closest(".cart__item");e.addEventListener("click",()=>{t.style.height=t.clientHeight+"px",t.addEventListener(MI.cssAnimation("transition"),()=>{t.clientHeight>0?t.style.height=0:(t.remove(),o())}),t.classList.add("cart__item--remove")})}))})(document.querySelector(".cart")),(e=>{"use strict";if(!e)return;const t=document.querySelectorAll(".filter-open"),n=e.querySelectorAll(".filter-close"),i=e.querySelectorAll(".filter__range-item");Array.from(t,e=>e.addEventListener("click",()=>document.body.classList.add("filter-show"))),Array.from(n,e=>e.addEventListener("click",()=>document.body.classList.remove("filter-show"))),Array.from(i,e=>{const t=e.querySelector(".filter__range-reset"),n=e.querySelector(".input");t.addEventListener("click",()=>{n.value="",n.focus(),t.classList.add("hide")}),n.addEventListener("input",()=>t.classList.toggle("hide",!n.value)),n.value||t.classList.add("hide")})})(document.querySelector(".filter")),(e=>{"use strict";if(!e)return;const t=e.querySelector(".header__top");MI.headerHeight=t.clientHeight,PubSub.subscribe("windowScroll",()=>t.classList.toggle("is-scroll",window.pageYOffset>0)),PubSub.subscribe("windowWidthResize",()=>{MI.headerHeight=t.clientHeight,document.documentElement.style.setProperty("--heightHeader",MI.headerHeight+"px")})})(document.querySelector(".header")),MI.mask=(e=>{if(!e.length)return;if(window.Inputmask)t();else{const e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="/js/inputmask.min.js",e.onload=(()=>t()),setTimeout(()=>document.head.appendChild(e),5e3)}const t=()=>{Array.from(e,e=>{if(e.classList.contains("inputmask--phone"))var t=new Inputmask({mask:"+7 ( 999 ) 999-99-99",showMaskOnHover:!1,placeholder:"+7 ( ___ ) ___-__-__"});else if(e.classList.contains("inputmask--date"))t=new Inputmask({alias:"datetime",showMaskOnHover:!1,inputFormat:"dd.mm.yyyy",placeholder:"дд.мм.гггг"});else if(e.classList.contains("inputmask--currency"))t=new Inputmask({alias:"integer",suffix:" рублей",groupSize:3,autoGroup:!0,groupSeparator:" ",rightAlign:!1});else t=new Inputmask(e.getAttribute("data-mask"));t.mask(e)})}}),MI.mask(document.querySelectorAll(".inputmask")),(e=>{"use strict";e&&document.querySelector(".btn-menu-toggle").addEventListener("click",()=>{document.body.classList.contains("menu-open")?setTimeout(()=>window.scrollTo(0,MI.windowScrollOld)):MI.windowScrollOld=window.pageYOffset,document.body.classList.toggle("menu-open"),e.classList.toggle("visuallyhidden")})})(document.querySelector(".menu")),(e=>{"use strict";e.length&&Array.from(e,e=>{e.addEventListener("click",t=>{t.preventDefault(),e.classList.toggle("is-open")})})})(document.querySelectorAll(".main-catalog__head")),(e=>{"use strict";if(!e.length)return;const t=document.querySelector(".menu-catalog"),n=t.querySelectorAll(".menu-catalog__head--arrow"),i=t.querySelectorAll(".menu-catalog__level2-link--arrow"),o=t.querySelector(".menu-catalog__close"),s=t.querySelector(".menu-catalog__back"),r=t.querySelector(".menu-catalog__current-category"),l=r.textContent;let a=0,c=0,d=null,u=null;Array.from(e,e=>e.addEventListener("click",()=>{MI.windowScrollOld=window.pageYOffset,window.scrollTo(0,0),document.body.classList.add("menu-catalog-open"),t.classList.remove("visuallyhidden")})),o.addEventListener("click",()=>{setTimeout(()=>window.scrollTo(0,MI.windowScrollOld)),document.body.classList.remove("menu-catalog-open"),t.classList.add("visuallyhidden")}),s.addEventListener("click",()=>{t.classList.contains("is-level3")?(t.style.height=d.nextElementSibling.scrollHeight+"px",t.classList.remove("is-level3"),Array.from(i,e=>e.parentNode.classList.remove("is-open")),window.scrollTo(0,c),r.textContent=d.textContent):t.classList.contains("is-level2")?(t.style.height=t.querySelector(".menu-catalog__inner").clientHeight+"px",t.classList.remove("is-level2"),Array.from(n,e=>e.classList.remove("is-open")),window.scrollTo(0,a),s.classList.add("hide"),r.textContent=l):console.log("что-то не так")}),Array.from(n,e=>{e.addEventListener("click",i=>{i.preventDefault(),a=window.pageYOffset,t.style.height=e.nextElementSibling.scrollHeight+"px",t.classList.add("is-level2"),Array.from(n,t=>t.classList.toggle("is-open",t===e)),d=e,s.classList.remove("hide"),r.textContent=e.textContent})}),Array.from(i,e=>{e.addEventListener("click",n=>{n.preventDefault(),c=window.pageYOffset,t.style.height=e.parentNode.nextElementSibling.scrollHeight+"px",t.classList.add("is-level3"),Array.from(i,t=>t.parentNode.classList.toggle("is-open",t===e)),u=e,r.textContent=e.textContent})})})(document.querySelectorAll(".js-open-menu-catalog")),(e=>{"use strict";if(e){var t=e.querySelectorAll(".modal__item"),n=document.querySelectorAll("[data-modal]"),i=(e.querySelector(".modal__box"),document.querySelector(".wrapper")),o=window.pageYOffset;e.addEventListener("click",e=>{(e.target.classList.contains("modal")||e.target.closest(".modal__close"))&&MI.hideModal()}),MI.hideModal=(()=>{document.body.classList.remove("modal-show"),i.style.top=0,window.scrollTo(0,o),MI.activeModal=!1}),MI.modalShow=(n=>{MI.activeModal||(o=window.pageYOffset,i.style.top=-o+"px"),MI.activeModal=e.querySelector(".modal__item--"+n),Array.from(t,e=>e.classList.toggle("visuallyhidden",e!==MI.activeModal)),document.body.classList.add("modal-show"),window.scrollTo(0,0),MI.activeModal.focus()}),Array.from(n,e=>e.addEventListener("click",()=>MI.modalShow(e.getAttribute("data-modal"))))}})(document.querySelector(".modal")),(e=>{"use strict";if("IntersectionObserver"in window){const t={root:null,rootMargin:"0px",threshold:[.1]},n=document.querySelector(".header__bottom");new IntersectionObserver((e,t)=>Array.from(e,e=>{document.body.classList.toggle("bg-footer",e.intersectionRatio>.1&&window.pageYOffset>0),n.classList.toggle("is-hidden",e.intersectionRatio>.1)}),t).observe(e)}})(document.querySelector(".footer")),(e=>{"use strict";e.length&&Array.from(e,e=>{const t=e.querySelector(".select__label"),n=e.querySelector("select");n.addEventListener("change",()=>t.textContent=n.querySelector('[value="'+n.value+'"]').textContent)})})(document.querySelectorAll(".select")),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".js-choice");e&&e.length&&e.forEach(e=>{new Choices(e,{searchEnabled:!1});console.log(e)})})(e=>{"use strict";if(!e.length)return;let t=window.Swiper;Array.from(e,e=>{let n=null,i=null,o=null;const s=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div"),a=document.createElement("button"),c=document.createElement("button"),d=e.querySelectorAll(".swiper-slide"),u=(d.length,e.classList.contains("swiper-container--card")),m=e.classList.contains("swiper-container--product"),p=e.classList.contains("swiper-container--billboard");if(r.className="swiper-pagination",s.className="swiper-controls",l.className="swiper-navigation",c.className="swiper-button-prev button",a.className="swiper-button-next button",c.innerHTML='<svg width="8" height="14" viewBox="0 0 8 14"><path d="M.16 7.38l6.48 6.46a.54.54 0 10.77-.77L1.31 7 7.4.93a.54.54 0 00-.77-.77L.16 6.62a.54.54 0 000 .77z"/></svg>',a.innerHTML='<svg width="8" height="14" viewBox="0 0 8 14"><path d="M7.4 6.62L.93.16a.54.54 0 10-.77.77L6.25 7 .16 13.07a.54.54 0 00.77.77L7.4 7.38a.54.54 0 000-.77z"/></svg>',l.appendChild(c),l.appendChild(a),s.appendChild(l),s.appendChild(r),e.parentNode.appendChild(s),Array.from(e.querySelectorAll('[loading="lazy"]'),e=>e.setAttribute("loading","eager")),Array.from(d,e=>e.classList.remove("hide")),(o=(()=>{n&&(n.destroy(!1,!0),n=void 0),r.classList.add("hide"),s.classList.add("hide")}))(),u&&(e.classList.contains("swiper-container--navigation")&&(l.classList.add("hide"),r.classList.remove("hide"),s.classList.remove("hide")),i=(()=>{i=!1,new Swiper(e,{loop:!0,slidesPerView:"auto",pagination:{el:r,clickable:!0,bulletElement:"button",bulletClass:"button",bulletActiveClass:"is-active"}})})),m&&(s.classList.remove("hide"),c.classList.add("swiper-button-disabled"),i=(()=>{i=!1,new Swiper(e,{loop:!1,preloadImages:!1,navigation:{nextEl:a,prevEl:c}})})),p&&(l.classList.add("hide"),r.classList.remove("hide"),s.classList.remove("hide"),i=(()=>{i=!1,new Swiper(e,{loop:!0,preloadImages:!1,autoplay:{delay:5e3},pagination:{el:r,clickable:!0,bulletElement:"button",bulletClass:"button",bulletActiveClass:"is-active"}})})),PubSub.subscribe("windowWidthResize",()=>{window.Swiper&&i&&i()}),window.Swiper&&i?i():PubSub.subscribe("swiperJsLoad",i),!t){t=!0;const e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="/js/swiper.min.js",e.onload=(()=>PubSub.publish("swiperJsLoad")),document.head.appendChild(e)}})})(document.querySelectorAll(".swiper-container")),(e=>{e.length&&Array.from(e,e=>{const t=e.querySelectorAll(".tab-swiper__btn"),n=e.querySelectorAll(".tab-swiper__item");Array.from(t,e=>{e.addEventListener("click",()=>{Array.from(t,(t,i)=>{t.classList.toggle("is-active",t===e),n[i].classList.toggle("is-active",t===e)})})})})})(document.querySelectorAll(".tab-swiper")),document.querySelector(".tabs")&&Array.from(document.querySelectorAll(".tabs"),e=>{let t=e.querySelectorAll(".tabs__btn"),n=e.querySelectorAll(".tabs__item"),i=document.createElement("div");Array.from(t,(e,o)=>{const s=document.createElement("button");s.setAttribute("type","button"),s.className="button tabs__nav-btn",s.textContent=e.textContent,i.appendChild(s),e.classList.add("visuallyhidden"),s.addEventListener("click",()=>{Array.from(n,(e,n)=>{t[n].classList.toggle("tabs__nav-btn--active",n===o),e.classList.toggle("tabs__item--active",n===o)})})}),i.classList.add("tabs__nav"),t=i.querySelectorAll(".tabs__nav-btn"),n[0].classList.add("tabs__item--active"),t[0].classList.add("tabs__nav-btn--active"),e.insertBefore(i,n[0])});